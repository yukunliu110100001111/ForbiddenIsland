<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Forbidden Island – Game UI</title>
    <base href="/ForbiddenIsland_war_exploded/">
    <link rel="stylesheet" href="assets/css/game/game.css">

</head>
<body>
<div id="main-container">
    <header id="header">
        <div id="action-status" style="margin:8px; font-weight:bold; text-align:center;"></div>
        <div id="control-panel">
            <button id="btn-move" class="color-btn">Move</button>
            <button id="btn-shore" class="color-btn">Shore Up</button>
            <button id="btn-take" class="color-btn">Capture</button>
            <button id="btn-special" class="color-btn">Special</button>
            <button id="btn-end-turn" class="color-btn">End Turn</button>
            <button id="btn-reset"    class="color-btn">Reset Game</button>

        </div>
    </header>
    <div class="main-content">
        <div id="game-wrapper">
            <!-- 左侧牌堆与抓牌区 -->
            <aside id="left-panel">
                <div class="card-pile" id="treasure-deck">
                    <div class="deck-label">Treasure Deck</div>
                </div>
                <div class="card-pile" id="flood-deck">
                    <div class="deck-label">Flood Deck</div>
                </div>

                <div id="discard-piles">
                    <div id="treasure-discard" class="discard-pile"></div>
                    <div id="flood-discard"    class="discard-pile"></div>
                </div>

                <!-- 可选：显示最近抽到的两张牌 -->
                <div id="drawn-cards">
                    <div class="drawn-card"></div>
                    <div class="drawn-card"></div>
                </div>
            </aside>

            <!-- 地图区 -->
            <div id="map-container">
                <div id="tiles-layer"></div>
                <svg id="roads-layer" xmlns="http://www.w3.org/2000/svg"></svg>
            </div>
            <!-- 右侧水位表 -->
            <aside id="right-panel">
                <!-- 右侧水位表占位 -->
                <div id="water-meter" class="water-meter" >
                    <img src="assets/Images/bg/watermeter.png" alt="Water Meter" class="watermeter-bg" />
                    <div class="watermeter-pointer"></div>
                    <!-- 下面这 6 格只是占位，将来会用 renderer 给它们加高亮 -->
                    <div class="level"></div>
                    <div class="level"></div>
                    <div class="level"></div>
                    <div class="level"></div>
                    <div class="level"></div>
                    <div class="level"></div>
                </div>
                <div id="action-log-container">
                    <div id="action-log-title">History</div>
                    <div id="action-log"></div>
                </div>

            </aside>

        </div>

        <!-- 操作区、手牌、底栏的竖向组合 -->
        <div class="bottom-panel-group">
            <footer id="players-footer">
                <div class="player"><div class="avatar"></div><div class="hand"></div></div>
                <div class="player"><div class="avatar"></div><div class="hand"></div></div>
                <div class="player"><div class="avatar"></div><div class="hand"></div></div>
                <div class="player me"><div class="avatar"></div><div class="hand"></div></div>
            </footer>
        </div>
    </div>
</div>
<div id="result-modal" class="modal hidden">
    <div class="modal-content">
        <h2 id="result-title"></h2>
        <button id="btn-restart">Restart</button>
    </div>
</div>
<div id="special-modal" class="modal hidden">
    <div class="modal-content">
        <h2>使用特殊牌</h2>
        <div id="special-list" class="special-list">
            <!-- 这里将动态填充：每张 action 卡都会渲染成一个按钮 -->
        </div>
        <button id="btn-special-close">取消</button>
    </div>
</div>

<script src="assets/js/ui-plugins.js"></script>
<script type="module">
    import { bindInGame } from './assets/js/binders/inGameBinder.js';
    document.addEventListener('DOMContentLoaded', () => {
        bindInGame();
    });
</script>
</body>
</html>
